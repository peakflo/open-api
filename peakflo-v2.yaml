openapi: 3.0.1
info:
  title: Peakflo API v2
  description: "The Peakflo API follows REST. Our APIs are organised as resource-oriented URLs, returns JSON responses.  They return standard HTTP response codes. You will need a JWT token to access the resources you are authorized to. "
  contact:
    url: "https://peakflo.co/"
    email: info@peakflo.co
  x-logo:
    url: "https://assets.dorik.com/5fa7a91326674600114e7aca/images/logo_black_zv0e3kxb.png"
    altText: Peakflo logo
  license:
    name: Apache 2.0
    url: "http://www.apache.org/licenses/LICENSE-2.0.html"
  version: 2.0.0
externalDocs:
  url: "https://docs.peakflo.co"
servers:
  - url: api.peakflo.co/v2
    description: Production
  - description: Staging
    url: stage-api.peakflo.co/v2
security:
  - bearerAuth: []
tags:
  - name: Customers
    description: The customer
  - name: Contacts
    description: The customers contact
  - name: Invoices
    description: The customers invoices
  - name: Payments
    description: The customers payments
  - name: Credit Notes
    description: The customers credit notes
  - name: Vendors
    description: The vendor
  - name: Vendor Contacts
    description: The vendor contacts
  - name: Bills
    description: Vendor bills
  - name: Bill Payments
    description: Vendor Bill Payments
  - name: Vendor Purchase Orders
    description: Vendor Purchase Orders
  - name: Vendor Receipt Notes
    description: Vendor Receipt Notes
  - name: Vendor Credit Notes
    description: Vendor Credit Notes
  - name: G/L Accounts
    description: General Ledger Accounts
  - name: Taxes
    description: Tax configurations
  - name: Custom Fields
    description: Custom field configurations
  - name: Currency Exchange Rates
    description: Currency exchange rate configurations
  - name: FX Rates
    description: FX rates provided by issuer accounting system

paths:
  "/bill-payment":
    get:
      tags:
        - Bill Payments
      summary: Get bill payments with pagination and filters
      parameters:
        - name: updatedAtFrom
          in: query
          schema:
            type: string
            example: "2024-07-01T13:40:01"
        - name: updatedAtTo
          in: query
          schema:
            type: string
            example: "2024-07-01T13:40:01"
        - name: status
          in: query
          description: Filter bills by status
          schema:
            type: string
          example: "paid"
        - name: vendorExternalId
          in: query
          description: Filter bills-payments by vendorId
          schema:
            type: string
          example: "665d9d2a7f54dd6787405831"
        - name: page
          in: query
          description: Page number for pagination
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          description: Number of bill-payments per page
          schema:
            type: integer
            minimum: 1
            default: 10
            maximum: 100
      responses:
        "200":
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  billPayments:
                    type: array
                    items:
                      $ref: "#/components/schemas/BillPayment"
                  totalCount:
                    type: integer
              example:
                billPayments:
                  - externalPaymentId: "21964c8b-c61b-439b-bb27-d12ebaf8e85ec"
                    paymentNumber: "PAYMENT_2134"
                    lastUpdatedAt: "2024-07-03T01:00:00+06:00"
                    paymentDate: "2023-11-28"
                    scheduledDate: "2023-11-28"
                    paymentReference: "INV-2023-001"
                    referenceObject: "PO-00113"
                    subsidiaryReference: "REF-00113"
                    subsidiaryName: "SubName"
                    externalVendorId: "VENDOR-123"
                    vendorName: "VENDOR-123"
                    accountNumber: "1122334455"
                    receiverCurrency: "USD"
                    amount: 500
                    remainingAmount: 400
                    paymentFee: 10
                    fxRate: 1.5
                    status: "scheduled"
                    baseCurrency: "SGD"
                    convertedAmount: 750
                    customField:
                      - customFieldNumber: "CustomFieldNumber1 (type - Number)"
                        name: "CustomField1"
                        value: 2
                        type: "Number"
                      - customFieldNumber: "CustomFieldNumber2 (type - Date)"
                        name: "CustomField2"
                        value: "11/03/2024"
                        type: "Date"
                      - customFieldNumber: "CustomFieldNumber3 (type - Input)"
                        name: "CustomField3"
                        value: "Value"
                        type: "Input"
                      - customFieldNumber: "CustomFieldNumber4 (type - List)"
                        name: "CustomField4"
                        value: "List_Value1"
                        type: "List"
                      - customFieldNumber: "CustomFieldNumber5 (type - MultiList)"
                        name: "CustomField5"
                        value:
                          - "MultiList_Value1"
                          - "MultiList_Value2"
                        type: "MultiList"
                    bills:
                      - externalBillId: "1234567890"
                        billNumber: "Bill-001"
                        status: "scheduled"
                        appliedAmount: 100
                        totalAmount: 500
                totalCount: 50
        "400":
          description: Bad Request

    post:
      tags:
        - Bill Payments
      summary: Create a bill payment
      description: Create a new bill payment
      operationId: create-bill-payment
      requestBody:
        description: Bill payment to create
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentDate:
                  type: string
                  format: date
                scheduledDate:
                  type: string
                  format: date
                paymentNumber:
                  type: number
                paymentReference:
                  type: string
                referenceObject:
                  type: string
                externalVendorId:
                  type: string
                subsidiaryReference:
                  type: string
                accountNumber:
                  type: string
                amount:
                  type: number
                paymentFee:
                  type: number
                fxRate:
                  type: number
                status:
                  type: string
                  enum:
                    - draft
                    - scheduled
                    - processing
                    - paid
                baseCurrency:
                  type: string
                convertedAmount:
                  type: number
                receiverCurrency:
                  type: string
                bills:
                  type: array
                  items:
                    type: object
                    properties:
                      externalBillId:
                        type: string
                      appliedAmount:
                        type: number
            examples:
              Example:
                value:
                  paymentDate: "2023-11-28"
                  scheduledDate: "2024-07-07"
                  paymentNumber: "PAYMENT-001"
                  paymentReference: "INV-2023-001"
                  referenceObject: "PO-001133"
                  externalVendorId: "VENDOR-123"
                  subsidiaryReference: "SUB-001"
                  accountNumber: "11223344556677"
                  amount: 500
                  paymentFee: 10
                  fxRate: 1.5
                  status: "draft"
                  baseCurrency: "SGD"
                  convertedAmount: 750
                  receiverCurrency: "USD"
                  bills:
                    - externalBillId: "1234567890"
                      appliedAmount: 500

      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BillPayment-create"
        "400":
          description: Bad request
          content: {}
        "409":
          description: Conflict
          content: {}
  "/bill-payment/{exteralId}":
    get:
      tags:
        - Bill Payments
      summary: Read a bill-payment
      parameters:
        - schema:
            type: string
          name: externalId
          in: path
          required: true
      responses:
        "200":
          description: "Read bill payment info"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BillPayment"
              example:
                externalPaymentId: "21964c8b-c61b-439b-bb27-d12ebaf8e85ec"
                lastUpdatedAt: "2024-07-03T01:00:00+06:00"
                paymentDate: "2023-11-28"
                paymentReference: "INV-2023-001"
                paymentNumber: "PAYMENT_2345"
                referenceObject": "PO-00113"
                scheduledDate: "2023-11-28"
                externalVendorId: "VENDOR-123"
                vendorName: "VENDOR-123"
                accountNumber: "1122334455"
                receiverCurrency: "USD"
                amount: 500
                remainingAmount: 400
                paymentFee: 10
                fxRate: 1.5
                status: "scheduled"
                baseCurrency: "SGD"
                convertedAmount: 750
                customField:
                  - customFieldNumber: CustomFieldNumber1 (type - Number)
                    name: "CustomField1"
                    value: 2
                    type: Number
                bills:
                  - externalBillId: "1234567890"
                    billNumber: "Bill-001"
                    status: "scheduled"
                    appliedAmount: 100
                    totalAmount: 500
        "404":
          description: Not Found
        "400":
          description: Bad Request
    put:
      tags:
        - Bill Payments
      summary: Update a bill payment
      description: Update a bill payment
      operationId: update-bill-payment
      parameters:
        - name: externalId
          in: path
          required: true
          description: ID of the bill payment to retrieve
          schema:
            type: string
      requestBody:
        description: Bill payment to update
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                billId:
                  type: string
                reference:
                  type: string
                vendorId:
                  type: string
                subsidiaryReference:
                  type: string
                date:
                  type: string
                  format: date
                amount:
                  type: number
                baseCurrency:
                  type: string
                paymentFee:
                  type: number
                fxRate:
                  type: number
                convertedAmount:
                  type: number
                receiverCurrency:
                  type: string
            examples:
              Example:
                value:
                  paymentDate: "2023-11-28"
                  scheduledDate: "2024-07-07"
                  paymentNumber: "PAYMENT-001"
                  paymentReference: "INV-2023-001"
                  referenceObject: "PO-001133"
                  externalVendorId: "VENDOR-123"
                  subsidiaryReference: "SUB-001"
                  accountNumber: "11223344556677"
                  amount: 500
                  paymentFee: 10
                  fxRate: 1.5
                  status: "paid"
                  baseCurrency: "SGD"
                  convertedAmount: 750
                  receiverCurrency: "USD"
                  bills:
                    - externalBillId: "1234567890"
                      appliedAmount: 500

      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BillPayment"
        "400":
          description: Bad request
          content: {}
        "409":
          description: Conflict
          content: {}

  "/gl-account":
    post:
      tags:
        - G/L Accounts
      summary: Create a G/L account
      description: Create a new G/L account
      operationId: create-gl-account
      requestBody:
        description: G/L account to create
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GLAccount-Create"
            examples:
              Example:
                value:
                  externalAccountId: "ACC-001"
                  subsidiaryReference: "SUB-001"
                  code: "1000"
                  name: "Cash Account"
                  type: "asset"
                  currency: "USD"
                  paymentAllowed: true
                  expenseAllowed: false
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GLAccount-Create"
              example:
                externalAccountId: "ACC-001"
                subsidiaryReference: "SUB-001"
                code: "1000"
                name: "Cash Account"
                type: "asset"
                currency: "USD"
                paymentAllowed: true
                expenseAllowed: false
        "400":
          description: Bad request
          content: {}
        "409":
          description: Conflict
          content: {}

  "/gl-account/{externalId}":
    put:
      tags:
        - G/L Accounts
      summary: Update a G/L account
      description: Update an existing G/L account
      operationId: update-gl-account
      parameters:
        - name: externalId
          in: path
          required: true
          description: External Account ID (externalAccountId) of the G/L account to update
          schema:
            type: string
      requestBody:
        description: G/L account fields to update
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GLAccount-Update"
            examples:
              Example:
                value:
                  code: "1001"
                  name: "Updated Cash Account"
                  type: "asset"
                  currency: "USD"
                  paymentAllowed: true
                  expenseAllowed: false
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GLAccount"
              example:
                externalAccountId: "ACC-001"
                subsidiaryReference: "SUB-001"
                code: "1001"
                name: "Updated Cash Account"
                type: "asset"
                currency: "USD"
                status: "active"
                paymentAllowed: true
                expenseAllowed: false
        "400":
          description: Bad request
          content: {}
        "404":
          description: Not Found
          content: {}
        "409":
          description: Conflict
          content: {}

    delete:
      tags:
        - G/L Accounts
      summary: Delete a G/L account
      description: Delete an existing G/L account (sets the account to an inactive/archived state)
      operationId: delete-gl-account
      parameters:
        - name: externalId
          in: path
          required: true
          description: External Account ID (externalAccountId) of the G/L account to delete
          schema:
            type: string
      responses:
        "204":
          description: No Content - Successfully deleted
        "404":
          description: Not Found

  "/fx-rate":
    post:
      tags:
        - FX Rates
      summary: Create an FX rate
      description: Create issuer-provided FX rate used when fxRateSource is customerAccounting
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FxRateCreateRequest"
            example:
              externalRateID: "EXT_RATE_001"
              fxRate: 1.2345
              fromCurrency: "USD"
              toCurrency: "SGD"
              startEffectiveDate: "2024-01-05"
      responses:
        "200":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FxRateCreateResponse"
              example:
                externalRateID: "EXT_RATE_001"
                fxRate: 1.2345
                fromCurrency: "USD"
                toCurrency: "SGD"
                startEffectiveDate: "2024-01-05"
                createdDateTime: "2024-01-05T00:00:00Z"
        "400":
          description: Bad request
          content: {}

  "/tax":
    post:
      tags:
        - Taxes
      summary: Create a tax
      description: Create a new tax configuration
      operationId: create-tax
      requestBody:
        description: Tax to create
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Tax-Create"
            examples:
              Example:
                value:
                  externalId: "TAX-001"
                  subsidiaryReference: "SUB-001"
                  name: "VAT 10%"
                  amount: 10
                  amountType: "Percentage"
                  priceIncludesTax: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tax-Create"
              example:
                externalId: "TAX-001"
                subsidiaryReference: "SUB-001"
                name: "VAT 10%"
                amount: 10
                amountType: "Percentage"
                priceIncludesTax: true
        "400":
          description: Bad request
          content: {}
        "409":
          description: Conflict
          content: {}

  "/tax/{externalId}":
    put:
      tags:
        - Taxes
      summary: Update a tax
      description: Update an existing tax configuration
      operationId: update-tax
      parameters:
        - name: externalId
          in: path
          required: true
          description: External ID of the tax to update
          schema:
            type: string
      requestBody:
        description: Tax fields to update
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Tax-Update"
            examples:
              Example:
                value:
                  name: "Updated VAT 10%"
                  amount: 8
                  amountType: "Percentage"
                  priceIncludesTax: false
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tax"
              example:
                externalId: "TAX-001"
                subsidiaryReference: "SUB-001"
                name: "Updated VAT 10%"
                amount: 8
                amountType: "Percentage"
                status: "active"
                priceIncludesTax: false
        "400":
          description: Bad request
          content: {}
        "404":
          description: Not Found
          content: {}
        "409":
          description: Conflict
          content: {}

    delete:
      tags:
        - Taxes
      summary: Delete a tax
      description: Delete an existing tax configuration (sets the tax to an inactive/archived state)
      operationId: delete-tax
      parameters:
        - name: externalId
          in: path
          required: true
          description: External ID of the tax to delete
          schema:
            type: string
      responses:
        "204":
          description: No Content - Successfully deleted
        "404":
          description: Not Found

  "/custom-field":
    post:
      tags:
        - Custom Fields
      summary: Create a custom field
      description: Create a new custom field configuration
      operationId: create-custom-field
      requestBody:
        description: Custom field to create
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CustomField-Create"
            examples:
              Example:
                value:
                  sourceId: "CF-INPUT-001"
                  name: "Project Code"
                  type: "input"
                  description: "Project code for tracking"
                  visibleInInvoice: true
                  visibleInBill: true
                  alwaysMandatoryInInvoice: false
              Example-List:
                value:
                  sourceId: "CF-LIST-001"
                  name: "Department"
                  type: "list"
                  description: "Department selection"
                  options:
                    - "Sales"
                    - "Marketing"
                    - "Engineering"
                    - "Finance"
                  visibleInBill: true
                  visibleInBillTable: true
                  alwaysMandatoryInBill: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomField-Create"
              example:
                sourceId: "CF-INPUT-001"
                name: "Project Code"
                type: "input"
                description: "Project code for tracking"
                visibleInInvoice: true
                visibleInBill: true
                alwaysMandatoryInInvoice: false
        "400":
          description: Bad request
          content: {}
        "409":
          description: Conflict
          content: {}

  "/custom-field/{sourceId}":
    put:
      tags:
        - Custom Fields
      summary: Update a custom field
      description: Update an existing custom field configuration
      operationId: update-custom-field
      parameters:
        - name: sourceId
          in: path
          required: true
          description: Source ID (external identifier) of the custom field to update
          schema:
            type: string
      requestBody:
        description: Custom field fields to update
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CustomField-Update"
            examples:
              Example:
                value:
                  name: "Updated Project Code"
                  description: "Updated description for project code"
                  visibleInInvoice: true
                  visibleInInvoiceTable: true
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomField"
              example:
                sourceId: "CF-INPUT-001"
                name: "Updated Project Code"
                type: "input"
                description: "Updated description for project code"
                visibleInInvoice: true
                visibleInBill: true
                alwaysMandatoryInInvoice: false
                isDeleted: false
        "400":
          description: Bad request
          content: {}
        "404":
          description: Not Found
          content: {}
        "409":
          description: Conflict
          content: {}

    delete:
      tags:
        - Custom Fields
      summary: Delete a custom field
      description: Delete an existing custom field configuration (sets the custom field to an inactive/deleted state)
      operationId: delete-custom-field
      parameters:
        - name: sourceId
          in: path
          required: true
          description: Source ID (external identifier) of the custom field to delete
          schema:
            type: string
      responses:
        "204":
          description: No Content - Successfully deleted
        "404":
          description: Not Found

  "/currency-exchange-rate":
    post:
      tags:
        - Currency Exchange Rates
      summary: Create a currency exchange rate
      description: Create a new currency exchange rate configuration
      operationId: create-currency-exchange-rate
      requestBody:
        description: Currency exchange rate to create
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CurrencyExchangeRate-Create"
            examples:
              Example:
                value:
                  externalRateId: "RATE-001"
                  fxRate: 1.25
                  fromCurrency: "USD"
                  toCurrency: "IDR"
                  startEffectiveDate: "2024-07-01"
                  isDeleted: false
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CurrencyExchangeRate"
        "400":
          description: Bad request
          content: {}
        "409":
          description: Conflict
          content: {}

components:
  schemas:
    FxRateCreateRequest:
      type: object
      properties:
        externalRateID:
          type: string
          description: External rate ID for reference
        fxRate:
          type: number
          description: Exchange rate
        fromCurrency:
          type: string
          description: Source currency
        toCurrency:
          type: string
          description: Destination currency
        startEffectiveDate:
          type: string
          format: date
          description: Effective date for this rate
      required:
        - fxRate
        - fromCurrency
        - toCurrency
        - startEffectiveDate
    FxRateCreateResponse:
      type: object
      properties:
        externalRateID:
          type: string
        fxRate:
          type: number
        fromCurrency:
          type: string
        toCurrency:
          type: string
        startEffectiveDate:
          type: string
          format: date
        createdDateTime:
          type: string
          format: date-time
    BillPayment:
      description: Details of a bill payment
      type: object
      properties:
        externalPaymentId:
          type: string
          description: External Payment ID of the bill payment
          example: "EXT123"
        lastUpdatedAt:
          type: string
          description: Timestamp of Last update action
          example: "2024-07-03T01:00:00+06:00"
        subsidiaryName:
          type: string
          description: Name for the subsidiary associated for Bill Payment
          example: "SUBSIDIARY123"
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated for Bill Payment
          example: "SUB_REF123"
        paymentDate:
          type: string
          description: Date of payment
          example: "2023-11-28"
        createdAt:
          type: string
          description: Date of creation
          example: "2024-08-07T10:59:40.776Z"
        createdBy:
          type: string
          description: Name of user who created bill-payment
          example: "John Doe"
        paymentNumber:
          type: string
          description: Sequentially generated payment number
          example: "PAYMENT_2345"
        paymentReference:
          type: string
          description: "Payment Reference"
          example: "INV-2023-001"
        referenceObject:
          type: string
          description: Reference object ID
          example: "PO-00113"
        scheduledDate:
          type: string
          description: Date when payment is scheduled
          example: "2023-11-28"
        externalVendorId:
          type: string
          description: ExternalID of the vendor associated with the payment
          example: "VENDOR456"
        vendorName:
          type: string
          description: Name of the vendor associated with the payment
          example: "VENDOR1234"
        accountNumber:
          type: string
          description: Account number of Account associated with the payment
          example: "1122334455"
        receiverCurrency:
          type: string
          description: Currency code of Receiver
          example: "USD"
        amount:
          type: number
          description: Amount of bill payment
          example: 500
        remainingAmount:
          type: number
          description: Amount remaining to be paid
          example: 100
        paymentFee:
          type: number
          description: Payment Fee associated with payment
          example: 10
        fxRate:
          type: number
          description: Currency conversion rate
          example: 1.5
        status:
          type: string
          description: Updated status of bill payment
          example: "paid"
        baseCurrency:
          type: string
          description: Currency of the payment
          example: "USD"
        convertedAmount:
          type: number
          description: Converted amount in base currency
          example: 750
        customField:
          type: array
          items:
            $ref: "#/components/schemas/Bill-CustomFields"
        bills:
          type: array
          items:
            type: object
            properties:
              externalBillId:
                type: string
              billNumber:
                type: string
              status:
                type: string
                enum:
                  - draft
                  - scheduled
                  - processing
                  - paid
              appliedAmount:
                type: number
              totalAmount:
                type: number
    BillPayment-Create:
      description: Detail of a Bill Payment
      type: object
      properties:
        paymentDate:
          type: string
          description: Date of the payment (ISO8601 date format)
          format: date
          example: "2023-11-30"
        scheduledDate:
          type: string
          format: date
          description: Date when payment is scheduled
          example: "2023-11-28"
        paymentNumber:
          type: number
        paymentReference:
          type: string
          description: Reference for the payment
          example: "Payment REF123"
        referenceObject:
          type: string
          description: Test Field
          example: "REF REF1234"
        externalVendorId:
          type: string
          description: ExternalID of the vendor associated with the payment
          example: "VENDOR456"
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated with the bill payment
          example: "SUB-001"
        accountNumber:
          type: string
          description: Account number of Account associated with the payment
          example: "1122334455"
        amount:
          type: number
          description: Amount of the payment
          example: 500
        paymentFee:
          type: number
          description: Fee associated with the payment
          example: 10
        fxRate:
          type: number
          description: Currency conversion rate
          example: 1.5
        status:
          type: string
          enum:
            - draft
            - scheduled
            - processing
            - paid
        baseCurrency:
          type: string
          description: Currency of the payment
          example: "USD"
        convertedAmount:
          type: number
          description: Converted amount in base currency
          example: 750
        receiverCurrency:
          type: string
          description: Currency code of Receiver
          example: "USD"
        bills:
          type: array
          description: Bills Associated with the payment
          items:
            type: object
            properties:
              externalBillId:
                type: string
              appliedAmount:
                type: number
    Bill-CustomFields:
      type: object
      x-examples:
        Example:
          customFieldNumber: "customField1"
          name: "Field A"
          type: "Input"
          value: "Value A"
      properties:
        customFieldNumber:
          type: string
          description: Custom field number can be seen in the peakflo web UI
        name:
          type: string
          description: Custom field name
        type:
          oneOf:
            - type: string
            - type: number
            - type: array
              items:
                type: string
          description: Custom field type. can be string, number, date or array of strings
        value:
          oneOf:
            - type: string
            - type: number
            - type: array
              items:
                type: string
          description: Custom field value. can be string, number or array of strings. dates needs to be sent in ISO 8601 date format
      required:
        - customFieldNumber
        - value

    GLAccount:
      description: Details of a G/L Account
      type: object
      properties:
        externalAccountId:
          type: string
          description: External unique identifier for the G/L account
          example: "ACC-001"
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated with the account
          example: "SUB-001"
        code:
          type: string
          description: Account code
          example: "1000"
        name:
          type: string
          description: Account name
          example: "Cash Account"
        type:
          type: string
          description: Type of the G/L account
          enum:
            - asset
            - equity
            - expense
            - liability
            - bank
            - revenue
            - other
          example: "asset"
        currency:
          type: string
          description: Currency code (ISO 4217)
          example: "USD"
        status:
          type: string
          description: Status of the G/L account
          enum:
            - active
            - archived
          example: "active"
        paymentAllowed:
          type: boolean
          description: Whether payments are allowed for this account
          example: true
        expenseAllowed:
          type: boolean
          description: Whether expenses are allowed for this account
          example: false
      required:
        - externalAccountId
        - code
        - name
        - type
        - currency

    GLAccount-Create:
      description: Payload for creating a G/L Account
      type: object
      properties:
        externalAccountId:
          type: string
          description: External unique identifier for the G/L account
          example: "ACC-001"
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated with the account
          example: "SUB-001"
        code:
          type: string
          description: Account code
          example: "1000"
        name:
          type: string
          description: Account name
          example: "Cash Account"
        type:
          type: string
          description: Type of the G/L account
          enum:
            - asset
            - equity
            - expense
            - liability
            - bank
            - revenue
            - other
          example: "asset"
        currency:
          type: string
          description: Currency code (ISO 4217)
          example: "USD"
        paymentAllowed:
          type: boolean
          description: Whether payments are allowed for this account
          example: true
        expenseAllowed:
          type: boolean
          description: Whether expenses are allowed for this account
          example: false
      required:
        - externalAccountId
        - code
        - name
        - type
        - currency

    GLAccount-Update:
      description: Payload for updating a G/L Account
      type: object
      properties:
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated with the account
          example: "SUB-001"
        code:
          type: string
          description: Account code
          example: "1000"
        name:
          type: string
          description: Account name
          example: "Cash Account"
        type:
          type: string
          description: Type of the G/L account
          enum:
            - asset
            - equity
            - expense
            - liability
            - bank
            - revenue
            - other
          example: "asset"
        currency:
          type: string
          description: Currency code (ISO 4217)
          example: "USD"
        paymentAllowed:
          type: boolean
          description: Whether payments are allowed for this account
          example: true
        expenseAllowed:
          type: boolean
          description: Whether expenses are allowed for this account
          example: false

    Tax:
      description: Details of a tax configuration
      type: object
      properties:
        externalId:
          type: string
          description: External unique identifier for the tax
          example: "TAX-001"
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated with the tax
          example: "SUB-001"
        name:
          type: string
          description: Name of the tax
          example: "VAT 10%"
        amount:
          type: number
          description: Amount or rate of the tax
          example: 10
        status:
          type: string
          description: Status of the tax
          enum:
            - active
            - inactive
          example: "active"
        amountType:
          type: string
          description: Type of the tax amount
          enum:
            - Flat
            - Percentage
          example: "Percentage"
        priceIncludesTax:
          type: boolean
          description: Indicates whether prices include this tax
          example: true
      required:
        - externalId
        - name
        - amount
        - amountType

    Tax-Create:
      description: Payload for creating a tax configuration
      type: object
      properties:
        externalId:
          type: string
          description: External unique identifier for the tax
          example: "TAX-001"
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated with the tax
          example: "SUB-001"
        name:
          type: string
          description: Name of the tax
          example: "VAT 10%"
        amount:
          type: number
          description: Amount or rate of the tax
          example: 10
        amountType:
          type: string
          description: Type of the tax amount
          enum:
            - Flat
            - Percentage
          example: "Percentage"
        priceIncludesTax:
          type: boolean
          description: Indicates whether prices include this tax
          example: true
      required:
        - externalId
        - name
        - amount
        - amountType

    Tax-Update:
      description: Payload for updating a tax configuration
      type: object
      properties:
        subsidiaryReference:
          type: string
          description: Reference for the subsidiary associated with the tax
          example: "SUB-001"
        name:
          type: string
          description: Name of the tax
          example: "VAT 10%"
        amount:
          type: number
          description: Amount or rate of the tax
          example: 10
        amountType:
          type: string
          description: Type of the tax amount
          enum:
            - Flat
            - Percentage
          example: "Percentage"
        priceIncludesTax:
          type: boolean
          description: Indicates whether prices include this tax
          example: true

    CustomField:
      description: Details of a custom field configuration
      type: object
      properties:
        sourceId:
          type: string
          description: External unique identifier for the custom field
          example: "CF-INPUT-001"
        name:
          type: string
          description: Name of the custom field
          example: "Project Code"
        type:
          type: string
          description: Type of the custom field
          enum:
            - input
            - list
            - date
            - number
            - multiList
            - multiFile
            - singleUser
            - multiUser
          example: "input"
        description:
          type: string
          description: Description of the custom field
          example: "Project code for tracking"
        options:
          type: array
          items:
            type: string
          description: Array of option values (for list and multiList types)
          example:
            - "Sales"
            - "Marketing"
            - "Engineering"
        structuredOptions:
          type: array
          items:
            $ref: "#/components/schemas/CustomFieldStructuredOption"
          description: Structured options with metadata (for list and multiList types)
        isDeleted:
          type: boolean
          description: Indicates whether this custom field is deleted/inactive
          example: false
        visibleInInvoice:
          type: boolean
          description: Whether the field is visible in invoices
          example: true
        visibleInBill:
          type: boolean
          description: Whether the field is visible in bills
          example: true
        visibleInPR:
          type: boolean
          description: Whether the field is visible in purchase requests
          example: false
        visibleInPO:
          type: boolean
          description: Whether the field is visible in purchase orders
          example: false
        alwaysMandatoryInInvoice:
          type: boolean
          description: Whether the field is always mandatory in invoices
          example: false
        alwaysMandatoryInBill:
          type: boolean
          description: Whether the field is always mandatory in bills
          example: false
      required:
        - sourceId
        - name
        - type

    CustomField-Create:
      description: Payload for creating a custom field configuration
      type: object
      properties:
        sourceId:
          type: string
          description: External unique identifier for the custom field
          example: "CF-INPUT-001"
        name:
          type: string
          description: Name of the custom field
          example: "Project Code"
        type:
          type: string
          description: Type of the custom field
          enum:
            - input
            - list
            - date
            - number
            - multiList
            - multiFile
            - singleUser
            - multiUser
          example: "input"
        description:
          type: string
          description: Description of the custom field
          example: "Project code for tracking"
        options:
          type: array
          items:
            type: string
          description: Array of option values (for list and multiList types). If structuredOptions is not provided, options will be automatically converted to structuredOptions.
          example:
            - "Sales"
            - "Marketing"
            - "Engineering"
        structuredOptions:
          type: array
          items:
            $ref: "#/components/schemas/CustomFieldStructuredOption"
          description: Structured options with metadata (for list and multiList types). If not provided and options is provided, options will be automatically converted to structuredOptions.
        visibleInInvoice:
          type: boolean
          description: Whether the field is visible in invoices
          example: true
        visibleInInvoiceTable:
          type: boolean
          description: Whether the field is visible in invoice tables
          example: false
        visibleInBill:
          type: boolean
          description: Whether the field is visible in bills
          example: true
        visibleInBillTable:
          type: boolean
          description: Whether the field is visible in bill tables
          example: false
        visibleInPR:
          type: boolean
          description: Whether the field is visible in purchase requests
          example: false
        visibleInPRTable:
          type: boolean
          description: Whether the field is visible in purchase request tables
          example: false
        visibleInPO:
          type: boolean
          description: Whether the field is visible in purchase orders
          example: false
        visibleInPOTable:
          type: boolean
          description: Whether the field is visible in purchase order tables
          example: false
        alwaysMandatoryInInvoice:
          type: boolean
          description: Whether the field is always mandatory in invoices
          example: false
        alwaysMandatoryInBill:
          type: boolean
          description: Whether the field is always mandatory in bills
          example: false
        mandatoryOnApprovalInInvoice:
          type: boolean
          description: Whether the field is mandatory on invoice approval
          example: false
        mandatoryOnApprovalInBill:
          type: boolean
          description: Whether the field is mandatory on bill approval
          example: false
        showInInvoicePdf:
          type: boolean
          description: Whether to show the field in invoice PDFs
          example: false
        showInPRPdf:
          type: boolean
          description: Whether to show the field in purchase request PDFs
          example: false
        showInPOPdf:
          type: boolean
          description: Whether to show the field in purchase order PDFs
          example: false
        showInPRApprovalEmail:
          type: boolean
          description: Whether to show the field in purchase request approval emails
          example: false
        showInBillApprovalEmail:
          type: boolean
          description: Whether to show the field in bill approval emails
          example: false
        visibleInVendor:
          type: boolean
          description: Whether the field is visible in vendors
          example: false
        visibleInCustomer:
          type: boolean
          description: Whether the field is visible in customers
          example: false
        visibleInCreditNote:
          type: boolean
          description: Whether the field is visible in credit notes
          example: false
      required:
        - sourceId
        - name
        - type

    CustomField-Update:
      description: Payload for updating a custom field configuration
      type: object
      properties:
        name:
          type: string
          description: Name of the custom field
          example: "Updated Project Code"
        type:
          type: string
          description: Type of the custom field
          enum:
            - input
            - list
            - date
            - number
            - multiList
            - multiFile
            - singleUser
            - multiUser
          example: "input"
        description:
          type: string
          description: Description of the custom field
          example: "Updated description"
        options:
          type: array
          items:
            type: string
          description: Array of option values (for list and multiList types)
          example:
            - "Sales"
            - "Marketing"
        structuredOptions:
          type: array
          items:
            $ref: "#/components/schemas/CustomFieldStructuredOption"
          description: Structured options with metadata (for list and multiList types)
        visibleInInvoice:
          type: boolean
          description: Whether the field is visible in invoices
        visibleInInvoiceTable:
          type: boolean
          description: Whether the field is visible in invoice tables
        visibleInBill:
          type: boolean
          description: Whether the field is visible in bills
        visibleInBillTable:
          type: boolean
          description: Whether the field is visible in bill tables
        visibleInPR:
          type: boolean
          description: Whether the field is visible in purchase requests
        visibleInPRTable:
          type: boolean
          description: Whether the field is visible in purchase request tables
        visibleInPO:
          type: boolean
          description: Whether the field is visible in purchase orders
        visibleInPOTable:
          type: boolean
          description: Whether the field is visible in purchase order tables
        alwaysMandatoryInInvoice:
          type: boolean
          description: Whether the field is always mandatory in invoices
        alwaysMandatoryInBill:
          type: boolean
          description: Whether the field is always mandatory in bills
        mandatoryOnApprovalInInvoice:
          type: boolean
          description: Whether the field is mandatory on invoice approval
        mandatoryOnApprovalInBill:
          type: boolean
          description: Whether the field is mandatory on bill approval
        showInInvoicePdf:
          type: boolean
          description: Whether to show the field in invoice PDFs
        showInPRPdf:
          type: boolean
          description: Whether to show the field in purchase request PDFs
        showInPOPdf:
          type: boolean
          description: Whether to show the field in purchase order PDFs
        showInPRApprovalEmail:
          type: boolean
          description: Whether to show the field in purchase request approval emails
        showInBillApprovalEmail:
          type: boolean
          description: Whether to show the field in bill approval emails
        visibleInVendor:
          type: boolean
          description: Whether the field is visible in vendors
        visibleInCustomer:
          type: boolean
          description: Whether the field is visible in customers
        visibleInCreditNote:
          type: boolean
          description: Whether the field is visible in credit notes

    CustomFieldStructuredOption:
      description: Structured option for list and multiList custom field types
      type: object
      properties:
        sourceId:
          type: string
          description: Optional source ID for the option
          example: "OPT-001"
        value:
          type: string
          description: Option value/label
          example: "Sales"
        isDisabled:
          type: boolean
          description: Whether this option is disabled
          example: false
        sourceSystem:
          type: string
          description: Source system where this option was created
          example: "api"
      required:
        - value

    CurrencyExchangeRate:
      description: Details of a currency exchange rate
      type: object
      properties:
        externalRateId:
          type: string
          description: External unique identifier for the exchange rate
          example: "RATE-001"
        fxRate:
          type: number
          format: float
          description: Exchange rate value (supports 2 decimal places or more)
          example: 1.25
        fromCurrency:
          type: string
          description: Source currency code (ISO 4217)
          example: "USD"
        toCurrency:
          type: string
          description: Target currency code (ISO 4217)
          example: "IDR"
        startEffectiveDate:
          type: string
          format: date
          description: Date from which the rate is effective (YYYY-MM-DD)
          example: "2024-07-01"
        isDeleted:
          type: boolean
          description: Indicates whether this rate is deleted/archived
          example: false
      required:
        - externalRateId
        - fxRate
        - fromCurrency
        - toCurrency
        - startEffectiveDate

    CurrencyExchangeRate-Create:
      description: Payload for creating a currency exchange rate
      type: object
      properties:
        externalRateId:
          type: string
          description: External unique identifier for the exchange rate
          example: "RATE-001"
        fxRate:
          type: number
          format: float
          description: Exchange rate value (supports 2 decimal places or more)
          example: 1.25
        fromCurrency:
          type: string
          description: Source currency code (ISO 4217)
          example: "USD"
        toCurrency:
          type: string
          description: Target currency code (ISO 4217)
          example: "IDR"
        startEffectiveDate:
          type: string
          format: date
          description: Date from which the rate is effective (YYYY-MM-DD)
          example: "2024-07-01"
        isDeleted:
          type: boolean
          description: Indicates whether this rate is deleted/archived
          example: false
      required:
        - externalRateId
        - fxRate
        - fromCurrency
        - toCurrency
        - startEffectiveDate

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  parameters: {}
